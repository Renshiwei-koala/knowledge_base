# 1.秒杀系统

## 1.1秒杀场景

- 电商抢购限量商品
- 卖周董演唱会的门票

火车票抢座12306
....

## 1.2为什么要做个系统

==如果你的项目流量非常小，完全不用担心有并发的购买请求，那么做这样一个系统意义不大==。但如果你的系统要像12306那样，接受高并发访问和下单的考验，那么你就需要一套完整的流程保护措施，来保证你系统在用户流量高峰期不会被搞挂了。

- 严格防止超卖:库存100件你卖了120件，等着辞职吧
- 防止黑产:防止不怀好意的人群通过各种技术手段把你本该下发给群众的利益全收入了囊中。没法讲完。
- 保证用户体验∶高并发下，别网页打不开了，支付不成功了，购物车进不去了，地址改不了了......

## 1.3保护措施

- 乐观锁防止超卖
- 令牌桶限流上
- Redis缓存
- 消息队列异步处理订单
- ....



![image-20200824164427520](https://gitee.com/koala010/typora/raw/master/img/image-20200824164427520.png)



![image-20200824214029507](https://gitee.com/koala010/typora/raw/master/img/image-20200824214029507.png)